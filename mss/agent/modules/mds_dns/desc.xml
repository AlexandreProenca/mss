<module xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../desc.xsd" id="mds_dns">
    <name>DNS service</name>
    <desc>Resolve computer names on your network</desc>
    <actions>
        <action type="link" name="Management interface" value="https://@HOSTNAME@/mmc/main.php" />
    </actions>
    <packages>
        <target name="all">
            <rpm>bind</rpm>
            <rpm>bind-utils</rpm>
            <rpm>mmc-web-network</rpm>
            <rpm>python-mmc-network</rpm>
        </target>
    </packages>
    <deps>
        <module>mds_mmc</module>
    </deps>
    <config>
        <network name="bind_networks" format="short" validation="network" default="get_networks">
            <label>My networks</label>
            <help>Specify which networks are authorized to resolve external queries with your DNS server (recursion). eg: 192.168.0.0/255.255.255.0.</help>
        </network>
        <text name="bind_forwarders" multi="yes" validation="ip">
            <label>Forwarders</label>
            <help>Forward external DNS queries to DNS of your choice</help>
        </text>
        <check name="fw_lan" default="on">
            <label>Allow DNS from internal networks</label>
            <help>Configure the firewall to accept DNS requests on interfaces
                configured as 'internal'</help>
        </check>
        <check name="fw_wan" default="off">
            <label>Allow DNS from external networks</label>
            <help>Configure the firewall to accept DNS requests on interfaces
                configured as 'external'</help>
        </check>
    </config>
    <text>No networks are authorized to make external queries.</text>
    <text>Service mmc-agent reloaded succesfully.</text>
    <text>Service mmc-agent fails restarting. Check /var/log/mmc/mmc-agent.log</text>
    <text>Service named reloaded succesfully.</text>
    <text>Service named fails restarting. Check /var/log/syslog</text>
    <text>The DNS service is running.</text>
    <text>Your DNS will forward external queries to : </text>
    <text>The following networks are able to query your DNS for external domains : </text>
    <text>You can now add DNS zones in the management interface : https://@HOSTNAME@/mmc/</text>
    <text>Make sure you have enabled the DNS service (port 53) on your firewall.</text>
</module>
